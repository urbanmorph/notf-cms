// Updated with 62.3% accurate ward mapping (Official GBA delimitation)
// Generated: 2026-01-11

const corporationsData = {
    north: {
        name: "Bengaluru North City Corporation",
        totalIssues: 122859,
        closedIssues: 114247,
        openIssues: 8612,
        resolutionRate: 92.99,
        yearlyData: [
            {year: "2020", total: 13648, closed: 12158, rate: 89.08},
            {year: "2021", total: 17512, closed: 16255, rate: 92.82},
            {year: "2022", total: 17732, closed: 17247, rate: 97.26},
            {year: "2023", total: 19452, closed: 19096, rate: 98.17},
            {year: "2024", total: 33611, closed: 31425, rate: 93.5},
            {year: "2025", total: 20904, closed: 18066, rate: 86.42},
        ],
        topIssues: [
            {category: "Electrical", count: 51025, percentage: 41.5},
            {category: "Solid Waste (Garbage) Related", count: 33112, percentage: 27.0},
            {category: "Road Maintenance(Engg)", count: 17301, percentage: 14.1},
            {category: "Forest", count: 4930, percentage: 4.0},
            {category: "Health Dept", count: 4060, percentage: 3.3},
        ],
        seasonalData: {
            "April": 9553,
            "August": 10081,
            "December": 8968,
            "February": 9305,
            "January": 8689,
            "July": 9983,
            "June": 12302,
            "March": 10917,
            "May": 12572,
            "November": 9852,
            "October": 10898,
            "September": 9739,
        }
    },
    south: {
        name: "Bengaluru South City Corporation",
        totalIssues: 140892,
        closedIssues: 128215,
        openIssues: 12677,
        resolutionRate: 91.0,
        yearlyData: [
            {year: "2020", total: 18259, closed: 16332, rate: 89.45},
            {year: "2021", total: 20384, closed: 18667, rate: 91.58},
            {year: "2022", total: 22790, closed: 21480, rate: 94.25},
            {year: "2023", total: 20709, closed: 19588, rate: 94.59},
            {year: "2024", total: 36232, closed: 32803, rate: 90.54},
            {year: "2025", total: 22518, closed: 19345, rate: 85.91},
        ],
        topIssues: [
            {category: "Electrical", count: 56339, percentage: 40.0},
            {category: "Solid Waste (Garbage) Related", count: 35144, percentage: 24.9},
            {category: "Road Maintenance(Engg)", count: 21538, percentage: 15.3},
            {category: "Forest", count: 6143, percentage: 4.4},
            {category: "Health Dept", count: 5604, percentage: 4.0},
        ],
        seasonalData: {
            "April": 10851,
            "August": 11468,
            "December": 9801,
            "February": 11401,
            "January": 9779,
            "July": 11472,
            "June": 15043,
            "March": 13046,
            "May": 14956,
            "November": 9946,
            "October": 11835,
            "September": 11294,
        }
    },
    east: {
        name: "Bengaluru East City Corporation",
        totalIssues: 72731,
        closedIssues: 66157,
        openIssues: 6574,
        resolutionRate: 90.96,
        yearlyData: [
            {year: "2020", total: 9764, closed: 8724, rate: 89.35},
            {year: "2021", total: 8419, closed: 6948, rate: 82.53},
            {year: "2022", total: 11117, closed: 10710, rate: 96.34},
            {year: "2023", total: 11681, closed: 11386, rate: 97.47},
            {year: "2024", total: 18890, closed: 17354, rate: 91.87},
            {year: "2025", total: 12860, closed: 11035, rate: 85.81},
        ],
        topIssues: [
            {category: "Electrical", count: 23148, percentage: 31.8},
            {category: "Solid Waste (Garbage) Related", count: 18424, percentage: 25.3},
            {category: "Road Maintenance(Engg)", count: 14383, percentage: 19.8},
            {category: "veterinary", count: 3557, percentage: 4.9},
            {category: "Health Dept", count: 3416, percentage: 4.7},
        ],
        seasonalData: {
            "April": 5432,
            "August": 5936,
            "December": 4770,
            "February": 5588,
            "January": 4830,
            "July": 6327,
            "June": 7500,
            "March": 6829,
            "May": 7378,
            "November": 5414,
            "October": 6707,
            "September": 6020,
        }
    },
    west: {
        name: "Bengaluru West City Corporation",
        totalIssues: 97789,
        closedIssues: 90254,
        openIssues: 7535,
        resolutionRate: 92.29,
        yearlyData: [
            {year: "2020", total: 11979, closed: 10439, rate: 87.14},
            {year: "2021", total: 14216, closed: 12991, rate: 91.38},
            {year: "2022", total: 15753, closed: 14954, rate: 94.93},
            {year: "2023", total: 14919, closed: 14515, rate: 97.29},
            {year: "2024", total: 25311, closed: 23449, rate: 92.64},
            {year: "2025", total: 15611, closed: 13906, rate: 89.08},
        ],
        topIssues: [
            {category: "Electrical", count: 47670, percentage: 48.7},
            {category: "Solid Waste (Garbage) Related", count: 20029, percentage: 20.5},
            {category: "Road Maintenance(Engg)", count: 11736, percentage: 12.0},
            {category: "Forest", count: 5551, percentage: 5.7},
            {category: "Health Dept", count: 3413, percentage: 3.5},
        ],
        seasonalData: {
            "April": 7399,
            "August": 7407,
            "December": 7218,
            "February": 7311,
            "January": 6990,
            "July": 7937,
            "June": 10095,
            "March": 8649,
            "May": 10692,
            "November": 7476,
            "October": 8822,
            "September": 7793,
        }
    },
    central: {
        name: "Bengaluru Central City Corporation",
        totalIssues: 43726,
        closedIssues: 39981,
        openIssues: 3745,
        resolutionRate: 91.44,
        yearlyData: [
            {year: "2020", total: 4802, closed: 4111, rate: 85.61},
            {year: "2021", total: 6185, closed: 5749, rate: 92.95},
            {year: "2022", total: 6687, closed: 6497, rate: 97.16},
            {year: "2023", total: 6953, closed: 6780, rate: 97.51},
            {year: "2024", total: 11973, closed: 10871, rate: 90.8},
            {year: "2025", total: 7126, closed: 5973, rate: 83.82},
        ],
        topIssues: [
            {category: "Electrical", count: 16520, percentage: 37.8},
            {category: "Solid Waste (Garbage) Related", count: 12757, percentage: 29.2},
            {category: "Road Maintenance(Engg)", count: 6376, percentage: 14.6},
            {category: "Forest", count: 2105, percentage: 4.8},
            {category: "Health Dept", count: 1945, percentage: 4.4},
        ],
        seasonalData: {
            "April": 3429,
            "August": 3411,
            "December": 3168,
            "February": 3578,
            "January": 3050,
            "July": 3536,
            "June": 4540,
            "March": 3929,
            "May": 4253,
            "November": 3171,
            "October": 4184,
            "September": 3477,
        }
    }
};

const dataMetadata = {
    totalGrievances: 766648,
    mappedGrievances: 477997,
    mappingAccuracy: 62.35,
    dateRange: "2020-02-08 to 2025-06-19",
    dataSource: "https://data.opencity.in/dataset/bbmp-grievances-data",
    wardMappingSource: "https://data.opencity.in/dataset/gba-wards-delimitation-2025"
};
// Issue categories for complaint form (from actual BBMP data)
const issueCategories = [
    { value: 'electrical', label: 'Electrical / Street Lights', subcategories: [
        'Street Light Not Working',
        'Park Lights Not Working',
        'Open Electrical Junction Box',
        'Electrical Pole Damage'
    ]},
    { value: 'waste', label: 'Solid Waste Management', subcategories: [
        'Garbage Vehicle Not Arrived',
        'Garbage Dump',
        'Sweeping Not Done',
        'Debris Removal / Construction Material',
        'Garbage Dumping in Vacant Sites'
    ]},
    { value: 'roads', label: 'Road Maintenance', subcategories: [
        'Potholes',
        'Road Side Drains',
        'Road Cutting',
        'Footpath Encroachment',
        'Footpath Repair'
    ]},
    { value: 'water', label: 'Water Supply', subcategories: [
        'Water Supply Issues',
        'Water Leakage',
        'Water Quality',
        'Water Connection'
    ]},
    { value: 'drainage', label: 'Drainage / Sewage', subcategories: [
        'Water Stagnation',
        'Sewage Overflow',
        'Manhole Issues',
        'Storm Water Drain Cleaning'
    ]},
    { value: 'trees', label: 'Forest / Trees', subcategories: [
        'Removal of Dead/Fallen Trees',
        'Obstructions - Branches',
        'Tree Trimming Required'
    ]},
    { value: 'health', label: 'Health & Sanitation', subcategories: [
        'Dengue Positive',
        'Dead Animal(s)',
        'Public Toilet Cleaning',
        'Sanitation Issues'
    ]},
    { value: 'animals', label: 'Stray Animals', subcategories: [
        'Stray Dogs',
        'Stray Cattle',
        'Animal Menace'
    ]},
    { value: 'other', label: 'Other Issues', subcategories: [
        'Revenue Department',
        'Town Planning',
        'Advertisement',
        'Parks and Playgrounds',
        'Other'
    ]}
];
